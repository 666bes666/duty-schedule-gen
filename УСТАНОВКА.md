# Инструкция по установке и запуску

Эта инструкция написана для тех, кто никогда не работал с терминалом.
Следуйте шагам своей операционной системы — **macOS**, **Windows** или **Linux**.

---

## Содержание

- [macOS](#macos)
- [Windows](#windows)
- [Linux](#linux)
- [Что делать если что-то пошло не так](#что-делать-если-что-то-пошло-не-так)

---

## macOS

### Шаг 1 — Скачать проект

1. Откройте в браузере страницу: `https://github.com/666bes666/duty-schedule-gen`
2. Нажмите зелёную кнопку **`<> Code`**
3. В появившемся меню выберите **`Download ZIP`**
4. Файл `duty-schedule-gen-main.zip` скачается в папку **Загрузки**
5. Дважды кликните по архиву — он распакуется в папку `duty-schedule-gen-main`
6. Переместите эту папку туда, где вам удобно хранить (например, в **Документы**)

### Шаг 2 — Установить uv

`uv` — это инструмент управления Python-зависимостями. Нужен один раз.

1. Откройте **Терминал**:
   - Нажмите `⌘ Cmd + Пробел`
   - Введите `Терминал` → нажмите **Enter**

2. Вставьте эту команду и нажмите **Enter**:
   ```
   curl -LsSf https://astral.sh/uv/install.sh | sh
   ```
3. Дождитесь надписи `uv was installed successfully`
4. **Закройте Терминал** и откройте снова (это важно — иначе `uv` не найдётся)

### Шаг 3 — Запустить приложение

1. Откройте папку `duty-schedule-gen-main` в **Finder**
2. Откройте папку `launchers`
3. Дважды кликните на файл **`start-macos.command`**

   > При первом запуске macOS может показать предупреждение:
   > *«start-macos.command» невозможно открыть, так как оно от неизвестного разработчика*
   > Нажмите **Отменить**, затем откройте **Системные настройки → Конфиденциальность и безопасность**
   > и нажмите **«Всё равно открыть»**

4. Откроется окно Терминала — идёт установка. Подождите ~30 секунд.
5. Браузер откроется автоматически на странице приложения.

**При последующих запусках** — просто двойной клик на `start-macos.command`. Загружается за 5–10 секунд.

---

## Windows

### Шаг 1 — Скачать проект

1. Откройте в браузере: `https://github.com/666bes666/duty-schedule-gen`
2. Нажмите зелёную кнопку **`<> Code`**
3. Выберите **`Download ZIP`**
4. Откройте загрузки, нажмите правой кнопкой на `duty-schedule-gen-main.zip`
   → **Извлечь всё** → **Извлечь**
5. Переместите папку `duty-schedule-gen-main` в удобное место (например, `C:\Users\ВашеИмя\Documents`)

### Шаг 2 — Установить uv

1. Нажмите **`Win + R`**, введите `powershell`, нажмите **Enter**
2. В открывшемся окне вставьте команду и нажмите **Enter**:
   ```
   powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
   ```
3. Дождитесь надписи `uv was installed successfully`
4. **Закройте PowerShell** и откройте снова

   > Если Windows заблокировала выполнение скрипта —
   > запустите PowerShell **от имени администратора** (правой кнопкой по иконке → *Запуск от имени администратора*)

### Шаг 3 — Запустить приложение

1. Откройте папку `duty-schedule-gen-main`
2. Откройте папку `launchers`
3. Дважды кликните на файл **`start-windows.bat`**

   > Windows Defender может показать предупреждение *«Защитник Windows предотвратил запуск»*
   > Нажмите **«Подробнее»** → **«Выполнить в любом случае»**

4. Откроется чёрное окно — идёт установка. Подождите ~30 секунд.
5. Браузер откроется автоматически.

**Закрыть приложение** — закрыть чёрное окно или нажать `Ctrl+C`.

---

## Linux

### Шаг 1 — Скачать проект

**Вариант А — через браузер** (без терминала):
1. Откройте `https://github.com/666bes666/duty-schedule-gen`
2. **`<> Code`** → **`Download ZIP`** → распакуйте архив

**Вариант Б — через терминал:**
```bash
git clone https://github.com/666bes666/duty-schedule-gen.git
```

### Шаг 2 — Установить uv

Откройте терминал и выполните:
```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
```
Закройте терминал и откройте снова.

### Шаг 3 — Запустить приложение

**Вариант А — двойной клик:**
Откройте папку `launchers` в файловом менеджере → дважды кликните `start-linux.sh`
(если не запускается — выберите *«Выполнить»* в контекстном меню)

**Вариант Б — через терминал:**
```bash
cd путь/к/duty-schedule-gen-main
./launchers/start-linux.sh
```

Браузер откроется автоматически через несколько секунд.

---

## Что делать если что-то пошло не так

### «uv не найден» при запуске лончера

Вы установили `uv`, но закрыли и не открыли терминал заново. Закройте все окна терминала и попробуйте снова.

### Браузер открылся, но страница не загружается

Подождите ещё 10–15 секунд — приложение стартует. Если не помогло — вручную откройте в браузере: `http://localhost:8501`

### Порт 8501 занят

Другое приложение уже использует порт 8501. Найдите и закройте его, либо измените порт в файле лончера: замените `8501` на другое число (например, `8502`) и откройте `http://localhost:8502`.

### macOS: «невозможно открыть, так как разработчик неизвестен»

1. Откройте **Системные настройки** → **Конфиденциальность и безопасность**
2. Прокрутите вниз и нажмите **«Всё равно открыть»** рядом с именем файла

### Windows: антивирус блокирует `.bat` файл

Это ложное срабатывание — `.bat` файл содержит только команды установки Python-зависимостей и запуска сервера. Добавьте папку проекта в исключения антивируса.

### Приложение не генерирует файл / ошибка «Не удалось загрузить производственный календарь»

Приложению нужен интернет для загрузки данных о праздниках с сайта `isdayoff.ru`. Проверьте подключение.

---

## Обновление приложения

При выходе новой версии:

1. Скачайте новый ZIP с GitHub (Шаг 1)
2. Замените папку проекта на новую
3. Запустите лончер как обычно — зависимости обновятся автоматически

---

*Если что-то не работает — создайте issue на GitHub: `https://github.com/666bes666/duty-schedule-gen/issues`*
